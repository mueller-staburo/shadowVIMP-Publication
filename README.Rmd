---
output: github_document
bibliography: references.bib
always_allow_html: true
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
library(kableExtra)
```

# shadowVIMP - Simulation Study

<!-- badges: start -->
<!-- badges: end -->

This repository contains the code for the simulation study and practical application conducted in 'shadowVIMP: Permutation-based multiple testing-controlled variable selection'. The most important files in this repository are:

1. File `01_sim.R` applies shadowVIMP and compared approaches to the five data simulation designs and exports results.
2. File `02_unpack_resuts.R` gathers the results obtained from `01_sim.R` and computes performance measures for all scenarios.
3. File `03_alzheimer` applies shadowVIMP method on the Alzheimer dataset from the `AppliedPredictiveModeling` package.

The below table contains the details of the data simulation designs and feature selection methods that are specified in the `01_sim.R` file.

```{r table_simulations_methods, echo=FALSE}
methods_set1 <- c("shadowVIMP without pre-selection", 
             "shadowVIMP with pre-selection", 
             "Boruta algorithm with 10.000 trees [@kursa2010boruta, @kursa2010feature]", 
             "Boruta algorithm with 500 trees [@kursa2010boruta, @kursa2010feature]", 
             "Method from @janitza2018computationally with 10.000 trees")

methods_set2 <- c("shadowVIMP without pre-selection", 
             "shadowVIMP with pre-selection", 
             "Boruta algorithm with 10.000 trees [@kursa2010boruta, @kursa2010feature]", 
             "Boruta algorithm with 500 trees [@kursa2010boruta, @kursa2010feature]",
             "Method from @hapfelmeier2023efficient with 10.000 trees, implemented in @hapfelmeier2023package",
             "Method from @hapfelmeier2023efficient with 500 trees, implemented in @hapfelmeier2023package"
             )

table_content <- data.frame(
  data_sim = c(rep("@degenhardt2019evaluation with a group size of 50, 100 observations, and a total of 5.000 covariates.", 5),
               rep("@friedman1991multivariate with 100 observations", 6),
               rep("@degenhardt2019evaluation with a group size of 10, 100 observations, and a total of 5.000 covariates.", 5),
               rep("@strobl2007bias with 100 observations", 6),
               rep("The null case of the design @nicodemus2010behaviour", 6)
               ),
  method = c(methods_set1, methods_set2, methods_set1, methods_set2, methods_set2),
  name = paste0("evaluatesetting", 1:28)
)


names(table_content) <- c("Data Simulation Design", "Method", "Setting Name in `01_sim.R`")

kable(table_content, "html", escape = FALSE, align = "c") %>%
  collapse_rows(columns = 1, valign = "middle") %>% 
  column_spec(1, width = "20em") %>%  # Adjust width of the first column
  kable_styling(full_width = FALSE)

```

The remainder of the repository has the following structure:

* Folder `results/intermediate_results` contains the numeric results of all analyzed data simulation designs and feature selection algorithms, grouped into subfolders according to the data simulation design, raw output for the Alzeimer application, and two xlsx files `perf_others.xlsx` and `perf_proposed.xslx` containing aggregated performance results for all methods that are not shadowVIMP ('others') and shadowVIMP, respectively. 
* Folders `results/figures` and `results/tables` contain the tables and figures used in the body of the publication.
* Folder `results/logs` contains the log files for the main scripts in the repository (sessionInfo()).
* Folder `functions` contains the code for all custom functions used in this study.


Computational specifications: 

Program and Platform:

* Program: R, versions 4.2.2 and 4.2.1.
* The raw results of the simulation study were obtained on a Linux cluster, and the evaluation of the raw
results to produce the final results as well as the conduction of the real data analyses was performed on
Windows.
* Below is the output of the R command sessionInfo() on the Linux machine and on the Windows
machine. The output specifies which R packages and versions of those packages were used to generate
the raw results and to evaluate them.


sessionInfo() of the Linux machine (`01_sim.R`):
```{r, echo=FALSE}
cat("```r\n")
cat(readLines("results/logs/sessionInfo_of_01_sim.txt"), sep = "\n")
cat("\n```")
```


sessionInfo() of the Windows machine (`02_unpack_results.R`):
```{r, echo=FALSE}
cat("```r\n")
cat(readLines("results/logs/sessionInfo_02_unpack_results.txt"), sep = "\n")
cat("\n```")
```



sessionInfo() of the Windows machine (`03_alzheimer.R`):
```{r, echo=FALSE}
cat("```r\n")
cat(readLines("results/logs/sessionInfo_03_alzheimer.txt"), sep = "\n")
cat("\n```")
```